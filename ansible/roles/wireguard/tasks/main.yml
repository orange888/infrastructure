---
- name: Add WireGuard PPA
  become: true
  apt_repository:
    repo: ppa:wireguard/wireguard

- name: Install WireGuard
  become: true
  package:
    name: wireguard
    state: present

- name: Allow WireGuard connections
  ufw:
    rule: allow
    port: "{{ wireguard_port }}"
    proto: udp
